// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model SharedPresentation {
  id          String   @id @default(cuid())
  shareId     String   @unique // Unique share ID for URL
  title       String?  // Presentation title
  markdown    String   // Markdown content
  theme       String   @default("default") // Theme used
  
  // Share settings
  hasPassword Boolean  @default(false)
  passwordHash String? // bcrypt hashed password
  expiresAt   DateTime // Expiration date
  
  // Metadata
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  accessCount Int      @default(0) // Access count (optional)
  
  @@map("shared_presentations")
}

model UploadedImage {
  id          String   @id @default(cuid())
  filename    String   // Original filename from user
  storedName  String   @unique // Server-side filename (nanoid)
  mimeType    String   // MIME type validation
  size        Int      // File size in bytes
  uploadedAt  DateTime @default(now())
  
  @@map("uploaded_images")
}